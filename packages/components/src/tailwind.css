@tailwind base;
@tailwind components;
@tailwind utilities;

@layer components {
    /* Form styling */
    .form {
        @apply h-full w-full flex flex-col space-y-4;
        /* Light/dark theme */
        @apply bg-white dark:bg-slate-800 text-black dark:text-white;
    }

    /* Button styling */
    .button {
        @apply bg-secondary rounded-md flex justify-center items-center text-white
    }

    /* Form input styling */
    .input {
        @apply relative w-full flex justify-center items-center;
        /* Field styles */
        & .field {
            /* Positioning and size */
            @apply w-full h-14 min-h-min px-2 pt-3.5 py-0.5 z-10;
            /* Outline */
            @apply outline outline-1 outline-gray-400 dark:outline-slate-600 shadow-md rounded-md bg-transparent;
            /* Hide default placeholder */
            @apply placeholder-transparent;
            /* Valid input */ 
            @apply valid:focus:shadow-primary-light valid:focus:outline-primary-light dark:valid:focus:shadow-primary dark:valid:focus:outline-primary;
            /* Disabled input */
            @apply disabled:bg-gray-200;
        }
        /* Only allow invalid once the input has been "dirtied" */
        & .is-dirty {
            /* Invalid input */
            @apply invalid:outline-red-700 invalid:focus:shadow-red-700;
            @apply valid:shadow-primary-light valid:outline-primary-light dark:valid:shadow-primary dark:valid:outline-primary;
        }
        & .password-toggle {
            @apply cursor-pointer absolute right-4 top-4 size-6 text-gray-600 dark:text-slate-200;
        }
    }
    /* Needs to be its own class for peer variants to work */
    .input-label {
        /* Text */
        @apply text-gray-600 dark:text-slate-200 text-sm peer-placeholder-shown:text-base peer-[.is-dirty]:peer-placeholder-shown:text-sm peer-focus:text-sm;
        /* Positioning */
        @apply absolute w-max h-min left-2 top-1 peer-placeholder-shown:top-4 peer-[.is-dirty]:peer-placeholder-shown:top-1 peer-focus:top-1 transition-all motion-reduce:transition-none;
    }
}